var cacheName="devreaderPwaCache",filesToCache=["./","./assets/css/corex.css","./index.html","./assets/js/highlight.pack.js"];self.addEventListener("install",(function(e){console.log("[DevReader ServiceWorker] Install event fired."),e.waitUntil(caches.open(cacheName).then((function(cache){return console.log("[DevReader ServiceWorker] Caching app shell..."),cache.addAll(filesToCache).then((function(){self.skipWaiting()}))})))})),self.addEventListener("activate",(function(e){return console.log("[DevReader ServiceWorker] Activate event fired."),e.waitUntil(caches.keys().then((function(keyList){return Promise.all(keyList.map((function(key){if(key!==cacheName)return console.log("[DevReader ServiceWorker] Removing old cache...",key),caches.delete(key)})))}))),self.clients.claim()})),self.addEventListener("fetch",(function(e){console.log("[DevReader ServiceWorker] Fetch event fired.",e.request.url),e.respondWith(caches.match(e.request).then((function(response){return response?(console.log("[DevReader ServiceWorker] Retrieving from cache..."),response):(console.log("[DevReader ServiceWorker] Retrieving from URL..."),fetch(e.request).catch((function(e){console.log("[DevReader ServiceWorker] Fetch request failed!")})))})))}));